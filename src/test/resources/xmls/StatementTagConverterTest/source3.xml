<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE sqlMap PUBLIC "-//iBATIS.com//DTD SQL Map 2.0//EN"
"http://www.ibatis.com/dtd/sql-map-2.dtd">

<sqlMap namespace="com.test">
    <resultMap id="findResult" class="HashMap">
        <result property="id" column="id" javaType="int" />
        <result property="name" column="name" javaType="String" />
    </resultMap>
    <statement id="toAgtHis" parameterClass="map">
        BEGIN
        insert into TRDCSTRCVPYAR_INF_MDF (
        SRP_AR_STCD,MNT_DT,TRDPTSRRCSTAR_SN,SIGN_JRNL_NO,TRDPT_JRNL_NO,CHNL_ID,SIGN_BR_INSID,TRID,SIGN_DT,STRTUS_DT,VLD_CODT,TRDPCT_ID_FST_ID,TRDPCT_ID_SND_ID,CST_ID,CST_NM,TRDPCT_CRDT_TPCD,TRDPCT_CRDT_NO,TELCTCMOD_NO,SRP_CST_TPCD,TRDPCT_ACCNO,ACC_ACCNM,DPBKINNO,ACC_DPBKNM,MEDM_TPCD,
        PROV_ATNMSRGON_CD,URBN_ATNMSDSTC_CD,AGNC_PSN_NM,AGNC_PSN_CRDT_TPCD,AGNC_PSN_CRDT_NO,SCSP_PY_MTDCD,SCSP_PY_TPCD,OPN_SMS_NTC_IND,MLTLTAGRM_NO,SCSP_PCSG_STCD,BTCH_ID,AGRTMT_BR_ID,AGRTMT_TRID,AGRTMT_DT,AGRTMT_RSN,RMRK,CST_ACCNM_VLD_IND,BTCHPYMT_OPN_IND,BTCHDDCN_OPN_IND,ETSRPAR_ID,ins_id,
        ENTRST_PRJ_ID,SRP_STMd_DT,MDF_RSN,CHNL_FLOW_NO,CHNL_CUST_NO,TRDPT_SIGN_TPCD
        ) select
        #srpArStCd#,#mntDt#,TRDPTSRRCSTAR_SN,SIGN_JRNL_NO,TRDPT_JRNL_NO,CHNL_ID,SIGN_BR_INSID,TRID,SIGN_DT,STRTUS_DT,VLD_CODT,TRDPCT_ID_FST_ID,TRDPCT_ID_SND_ID,CST_ID,CST_NM,TRDPCT_CRDT_TPCD,TRDPCT_CRDT_NO,TELCTCMOD_NO,SRP_CST_TPCD,TRDPCT_ACCNO,ACC_ACCNM,DPBKINNO,ACC_DPBKNM,MEDM_TPCD,
        PROV_ATNMSRGON_CD,URBN_ATNMSDSTC_CD,AGNC_PSN_NM,AGNC_PSN_CRDT_TPCD,AGNC_PSN_CRDT_NO,SCSP_PY_MTDCD,SCSP_PY_TPCD,OPN_SMS_NTC_IND,MLTLTAGRM_NO,SCSP_PCSG_STCD,BTCH_ID,AGRTMT_BR_ID,AGRTMT_TRID,AGRTMT_DT,AGRTMT_RSN,RMRK,CST_ACCNM_VLD_IND,BTCHPYMT_OPN_IND,BTCHDDCN_OPN_IND,ETSRPAR_ID,ins_id,
        ENTRST_PRJ_ID,SRP_STMd_DT,MDF_RSN,CHNL_FLOW_NO,CHNL_CUST_NO,TRDPT_SIGN_TPCD
        from
        TRDPT_SBSTRCVPY_CST_AR
        where
        TRDPCT_ID_FST_ID = #trdpctIdFstId#
        AND
        ENTRST_PRJ_ID
        =#entrstPrjId#;
        <isEqual property="del" compareValue="true">
            delete
            TRDPT_SBSTRCVPY_CST_AR where TRDPCT_ID_FST_ID = #trdpctIdFstId# AND
            ENTRST_PRJ_ID =#entrstPrjId#;
        </isEqual>
        END;
    </statement>
</sqlMap>